---
import "../styles/global.css";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import books from "../data/books.json";

const categories = [...new Set(books.map((book) => book.category))];
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vane S√°nchez ‚ù§Ô∏è - Autora de Romance Oscuro y Ciencia Ficci√≥n</title>
    <meta
      name="description"
      content="Explorando universos literarios con pasi√≥n. Romance oscuro, ciencia ficci√≥n y mundos √∫nicos por Vane S√°nchez."
    />
  </head>
  <body
    class="font-serif bg-slate-900 min-h-screen text-gray-800"
  >
    <!-- Header -->
    <Header />

<main class=" min-h-screen">
    <div class="max-w-6xl mx-auto">
        <!-- Hero Section -->
        <section class="relative h-screen flex flex-col justify-center items-center text-center overflow-hidden">
            <!-- Imagen de fondo -->
            <div 
                class="absolute inset-0 bg-cover bg-center"
                style="background-image: url('/images/hero-bg.png');"
            ></div>

            <!-- Overlay -->
            <div class="absolute inset-0 bg-gradient-to-t from-slate-900/90 via-purple-900/50 to-pink-700/30"></div>

            <!-- Contenido -->
            <div class="relative z-10 max-w-3xl">
                <h1 class="text-5xl md:text-6xl font-extrabold mb-6 text-white drop-shadow-md leading-tight">
                    Entre <span class="text-pink-300 italic">romance oscuro</span><br />
                    y <span class="text-blue-300 italic">ciencia ficci√≥n</span>
                </h1>
                <p class="text-xl md:text-2xl text-gray-200 mb-10 leading-relaxed">
                    Bienvenid@ a mi cosmos literario: <br>
                    <span class="text-pink-200">romance g√≥tico</span> y 
                    <span class="text-blue-200">ciencia ficci√≥n √©pica</span><br>
                    donde el amor y el dolor se entrelazan.
                </p>
                <a href="#galeria" class="inline-flex items-center bg-gradient-to-r from-pink-600 to-purple-700 hover:from-pink-700 hover:to-purple-800 text-white px-8 py-4 rounded-full font-bold text-lg transition-all duration-300 transform hover:-translate-y-1 shadow-2xl">
                    Explorar mis libros <span class="ml-2">üìö</span>
                </a>
            </div>
        </section>

        {categories.map(category => {
            const booksInCategory = books.filter(book => book.category === category);
            let colorClass = "text-gray-800";
            let warning = null;
            if(category === "Romance Oscuro") {
                colorClass = "text-red-600";
                warning = "‚ö†Ô∏è Esta novela contiene temas sensibles: relaciones t√≥xicas, adicci√≥n, violencia emocional y situaciones adultas. Recomendada para lectores mayores de 18 a√±os.";
            } else if(category === "Saga Bellamy") {
                colorClass = "text-purple-600";
            } else if(category === "Historia Alternativa") {
                colorClass = "text-emerald-600";
            }

            return (
                <div class={`bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl m-8`}>
                    <h2 class={`text-4xl font-bold text-center mb-6 ${colorClass}`}>
                        {category === "Saga Bellamy" ? "ü§ñ " + category : category === "Romance Oscuro" ? "üåπ " + category : "üè≥Ô∏è‚Äçüåà " + category}
                    </h2>

                    {warning && (
                        <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-4 rounded text-sm">
                            <p><strong>{warning}</strong></p>
                        </div>
                    )}

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {booksInCategory.map(book => (
                            <a 
                                href={`/libro/${book.id}`} 
                                class="bg-white rounded-xl p-6 shadow-lg hover:-translate-y-2 hover:shadow-2xl transition-all duration-300 cursor-pointer transform hover:scale-105 group block"
                            >
                                <h3 class="text-xl font-bold mb-4 group-hover:text-sky-900 transition-colors">{book.title}</h3>

                                <div class="overflow-hidden rounded mb-4">
                                    <img 
                                        src={book.cover} 
                                        alt={book.title} 
                                        class="w-full h-auto transition-transform duration-300 group-hover:scale-110" 
                                    />
                                </div>
                                <div class="flex flex-wrap gap-2 mb-4">
                                    {book.tags.map(tag => (
                                        <span class="bg-gray-100 group-hover:bg-purple-100 px-3 py-1 rounded-full text-sm text-gray-700 group-hover:text-purple-700 transition-colors">{tag}</span>
                                    ))}
                                </div>
                                <p class="text-sm text-gray-600 group-hover:text-gray-800 transition-colors">
                                    <strong>Versi√≥n censurada disponible</strong> - Versi√≥n completa en f√≠sico
                                </p>
                            </a>
                        ))}
                    </div>
                </div>
            );
        })}
    </div>
</main>

<Footer />

    <!-- Smooth scrolling -->
    <script>
      document.querySelectorAll('a[href^="#"]').forEach((anchor: Element) => {
        anchor.addEventListener("click", function (this: HTMLAnchorElement, e: Event) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href")!);
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });
    </script>
  </body>
</html>